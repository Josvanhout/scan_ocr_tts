**Description du traitement d'image étape par étape :**

1. **Entrée :** On reçoit une photo (Bitmap) prise par l'utilisateur.
2. **Conversion en niveaux de gris** pour simplifier l’analyse.
3. **Amélioration du contraste** automatique (histogram equalization + normalisation).
4. **Traitement morphologique "blackhat"** :
   - On utilise une **taille de noyau** calculée à partir du **slider "contrastBoost"** (contraste utilisateur).
   - Ceci permet d’extraire les caractères sombres sur fond clair.
5. **Binarisation automatique (Otsu)** :
   - On détecte automatiquement le seuil optimal pour séparer texte/fond.
   - Le seuil est **ajusté avec le slider "contrastBoost"** pour rendre le texte plus épais/fin.
6. **Regroupement des lettres en blocs** :
   - Un **noyau horizontal** relie les lettres d’une même ligne.
   - Sa taille dépend du **slider "contrastBoost"** (pour éviter de coller des colonnes).
   - Un **noyau vertical** relie légèrement les lignes proches.
7. **Détection des contours** pour obtenir les rectangles potentiels.
8. **Filtrage des rectangles** :
   - On ignore les trop petits, trop larges, trop hauts (bruit).
   - On supprime les rectangles inclus dans d’autres.
9. **Filtrage par pourcentage de blanc** :
   - Pour chaque rectangle, on calcule le % de pixels "blancs".
   - On utilise le **slider "whiteThreshold"** pour éliminer les blocs trop blancs (non-textuels).
10. **Sortie :** 
    - Une image binaire (Bitmap) traitée.
    - Une liste de **rectangles rouges** correspondant aux zones de texte détectées et filtrées.

**Flux des paramètres utilisateur :**
- `contrastBoost` → ajuste l’épaisseur du texte et le regroupement horizontal.
- `whiteThreshold` → contrôle la sensibilité à la détection de texte (évite les zones blanches vides).

Ces rectangles sont ensuite affichés en superposition rouge sur l’image originale dans l’interface.