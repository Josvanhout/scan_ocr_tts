

## ğŸ“± **Application Android â€“ Scan OCR + TTS**

Tu dÃ©veloppes une application Android en **Jetpack Compose** qui permet de :

### ğŸ“· 1ï¸âƒ£ Scanner ou importer un document

* Capture photo via la camÃ©ra
* Import dâ€™images
* Import de **PDF multipages**

---

### ğŸ“„ 2ï¸âƒ£ Gestion spÃ©ciale des PDF

* Les PDF sont ouverts dans un Ã©cran dÃ©diÃ© **`OcrScreenFromPdf`**
* Chaque page est rendue en image avec **PdfRenderer**
* Navigation entre pages avec boutons **< >**
* MÃ©morisation :

  * dernier PDF ouvert
  * derniÃ¨re page lue
* Reprise automatique Ã  la bonne page si on rouvre le mÃªme PDF

---

### ğŸ§  3ï¸âƒ£ Traitement dâ€™image (OpenCV)

Avant lâ€™OCR, lâ€™image passe par un pipeline :

1. Ajustement du contraste
2. Conversion en niveaux de gris
3. Seuillage adaptatif
4. DÃ©tection de blocs de texte
5. Ajustement des marges autour des blocs

ParamÃ¨tres rÃ©glables via sliders :

* **Seuil (thresholdBias)**
* **Padding des blocs (rectPadding)**
* **Contraste (contrastBoost)**
* **Vitesse TTS**

Ces rÃ©glages sont sauvegardÃ©s dans les **SharedPreferences**.

---

### ğŸ” 4ï¸âƒ£ OCR (ML Kit)

* DÃ©tection du texte Ã  partir de lâ€™image traitÃ©e
* Gestion des blocs et lignes
* AdaptÃ© pour pages de livres (texte en colonnes, paragraphes)

---

### ğŸ”Š 5ï¸âƒ£ Lecture vocale (TTS)

* Lecture du texte dÃ©tectÃ©
* ContrÃ´le vitesse
* Boutons lecture / pause
* Lecture pensÃ©e pour livres et documents longs

---

### ğŸ›ï¸ 6ï¸âƒ£ Interface OCR (`OcrScreen`)

Barre du haut avec boutons :

* ğŸ  Retour accueil
* âœ¨ Afficher image traitÃ©e
* ğŸŒ— (Tonality) Mode boost lisibilitÃ© (agit sur le traitement)
* ğŸ”Š Lecture vocale

Les boutons actifs changent de couleur (ex: rouge via `MaterialTheme.colorScheme.error`).

---

### âš™ï¸ 7ï¸âƒ£ Architecture actuelle

| Ã‰cran                  | RÃ´le                         |
| ---------------------- | ---------------------------- |
| **MainScreen**         | Accueil                      |
| **CameraScreen**       | Capture photo                |
| **ImagePreviewScreen** | AperÃ§u image                 |
| **OcrScreenFromPdf**   | Gestion PDF multipages       |
| **OcrScreen**          | Traitement image + OCR + TTS |

---

### ğŸ§© ParticularitÃ©s importantes

* Aucune base de donnÃ©es, uniquement **mÃ©moire du dernier document**
* OptimisÃ© pour **pages de livres scannÃ©es**
* Traitement OpenCV finement ajustÃ© pour prÃ©server les colonnes
* Mode spÃ©cial pour amÃ©liorer lisibilitÃ© des pages pÃ¢les

